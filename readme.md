# Тестовое задание - JWT авторизация

### Используемые технологии
- Flask, SQLAlchemy
- Redis - хранение blacklist токенов
- SQLite - хранение данных пользователя `username, password, role: admin/user`
- poetry - зависимости проекта
- bcrypt - шифрование/дешифрование паролей пользователя

### Структура проекта
```
teast_task.../
| - main.py - точка входа
| - app/
   | - __init__.py - инициализация приложения, подключение endpoints
   | - config.py - конфигурация приложения
   | - content.py - защищеные endpoints: "/admin" - только администраторы "/" - все пользователи
   | - models.py - модель "User" flask-sqlalchemy
   | - auth/
      | - auth.py - endpoints для реализации аутонтефикации/авторизации и регистрации
      | - db_helper.py - CRUD функции
      | - en_de_cryption.py - де/кодирование паролей пользователя
      | - utils_jwt.py - генерация и отзыв jwt токенов
```
### Скриншоты работы
- Попытка авторизоваться с некоректным логином
![](inc/Screenshot 2025-04-02 at 14.44.22.png)
- Удачная авторизация
![](inc/Screenshot 2025-04-02 at 14.45.25.png)
- Доступ к защищенному endpoint с **token из whitelist**
![](inc/Screenshot 2025-04-02 at 14.45.52.png)
- Доступ к защищенному endpoint с **несуществующим token**
![](inc/Screenshot 2025-04-02 at 14.46.09.png)
- Аннуляция token
![](inc/Screenshot 2025-04-02 at 14.46.26.png)
- Попытка получить доступ к защищенному контенту с **token из blacklist**
![](inc/Screenshot 2025-04-02 at 14.46.36.png)
- Регистрация пользователя со статусом - администратор
![](inc/Screenshot 2025-04-02 at 14.48.29.png)
- Авторизация администратора
![](inc/Screenshot 2025-04-02 at 14.48.59.png)
- Доступ **администратора** к защищенному endpoint **доступному для всех ролей**
![](inc/Screenshot 2025-04-02 at 14.49.16.png)
- Доступ **администратора** к защищенному endpoint **доступному только администраторы**
![](inc/Screenshot 2025-04-02 at 14.49.30.png)
- Авторизация обычного пользователя
![](inc/Screenshot 2025-04-02 at 14.49.57.png)
- Доступ **обычного пользователя** к защищенному endpoint **доступному только администраторы**
![](inc/Screenshot 2025-04-02 at 14.50.09.png)